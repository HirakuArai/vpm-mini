[healthcheck] start
time="2025-08-24T08:38:56+09:00" level=warning msg="/Users/hiraku/projects/vpm-mini/compose.yaml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
time="2025-08-24T08:38:57+09:00" level=warning msg="/Users/hiraku/projects/vpm-mini/compose.yaml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
 Network vpm-mini_default  Creating
 Network vpm-mini_default  Created
 Container vpm-mini-synthesizer-1  Creating
 Container vpm-mini-archivist-1  Creating
 Container vpm-mini-watcher-1  Creating
 Container vpm-mini-planner-1  Creating
 Container vpm-mini-curator-1  Creating
 Container vpm-mini-redis-1  Creating
 Container vpm-mini-planner-1  Created
 Container vpm-mini-watcher-1  Created
 Container vpm-mini-curator-1  Created
 Container vpm-mini-archivist-1  Created
 Container vpm-mini-synthesizer-1  Created
 Container vpm-mini-redis-1  Created
 Container vpm-mini-archivist-1  Starting
 Container vpm-mini-watcher-1  Starting
 Container vpm-mini-redis-1  Starting
 Container vpm-mini-planner-1  Starting
 Container vpm-mini-synthesizer-1  Starting
 Container vpm-mini-curator-1  Starting
 Container vpm-mini-archivist-1  Started
 Container vpm-mini-watcher-1  Started
 Container vpm-mini-planner-1  Started
 Container vpm-mini-synthesizer-1  Started
 Container vpm-mini-redis-1  Started
 Container vpm-mini-curator-1  Started
 Container vpm-mini-redis-1  Waiting
 Container vpm-mini-watcher-1  Waiting
 Container vpm-mini-curator-1  Waiting
 Container vpm-mini-planner-1  Waiting
 Container vpm-mini-synthesizer-1  Waiting
 Container vpm-mini-archivist-1  Waiting
 Container vpm-mini-redis-1  Healthy
container vpm-mini-archivist-1 is unhealthy
time="2025-08-24T08:39:02+09:00" level=warning msg="/Users/hiraku/projects/vpm-mini/compose.yaml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
[healthcheck] waiting for healthy (1/10)
time="2025-08-24T08:39:05+09:00" level=warning msg="/Users/hiraku/projects/vpm-mini/compose.yaml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
[healthcheck] waiting for healthy (2/10)
time="2025-08-24T08:39:08+09:00" level=warning msg="/Users/hiraku/projects/vpm-mini/compose.yaml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
[healthcheck] waiting for healthy (3/10)
time="2025-08-24T08:39:12+09:00" level=warning msg="/Users/hiraku/projects/vpm-mini/compose.yaml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
[healthcheck] waiting for healthy (4/10)
time="2025-08-24T08:39:15+09:00" level=warning msg="/Users/hiraku/projects/vpm-mini/compose.yaml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
[healthcheck] waiting for healthy (5/10)
time="2025-08-24T08:39:18+09:00" level=warning msg="/Users/hiraku/projects/vpm-mini/compose.yaml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
[healthcheck] waiting for healthy (6/10)
time="2025-08-24T08:39:21+09:00" level=warning msg="/Users/hiraku/projects/vpm-mini/compose.yaml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
[healthcheck] waiting for healthy (7/10)
time="2025-08-24T08:39:24+09:00" level=warning msg="/Users/hiraku/projects/vpm-mini/compose.yaml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
[healthcheck] waiting for healthy (8/10)
time="2025-08-24T08:39:27+09:00" level=warning msg="/Users/hiraku/projects/vpm-mini/compose.yaml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
[healthcheck] waiting for healthy (9/10)
time="2025-08-24T08:39:30+09:00" level=warning msg="/Users/hiraku/projects/vpm-mini/compose.yaml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
[healthcheck] FAIL: services not healthy after 10 tries
time="2025-08-24T08:39:31+09:00" level=warning msg="/Users/hiraku/projects/vpm-mini/compose.yaml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
NAME                     IMAGE              COMMAND                   SERVICE       CREATED          STATUS                         PORTS
vpm-mini-archivist-1     vpm-mini/app:dev   "bash -c 'python pla…"   archivist     34 seconds ago   Restarting (2) 6 seconds ago   
vpm-mini-curator-1       vpm-mini/app:dev   "bash -c 'python pla…"   curator       34 seconds ago   Restarting (2) 5 seconds ago   
vpm-mini-planner-1       vpm-mini/app:dev   "bash -c 'python pla…"   planner       34 seconds ago   Restarting (2) 5 seconds ago   
vpm-mini-redis-1         redis:7            "docker-entrypoint.s…"   redis         34 seconds ago   Up 33 seconds (healthy)        6379/tcp
vpm-mini-synthesizer-1   vpm-mini/app:dev   "bash -c 'python pla…"   synthesizer   34 seconds ago   Restarting (2) 5 seconds ago   
vpm-mini-watcher-1       vpm-mini/app:dev   "bash -c 'python pla…"   watcher       34 seconds ago   Restarting (2) 6 seconds ago   
time="2025-08-24T08:39:31+09:00" level=warning msg="/Users/hiraku/projects/vpm-mini/compose.yaml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
archivist-1  | usage: playground.py [-h] [--role ROLE] [--trace-id TRACE_ID] [--hello]
archivist-1  |                      [--healthz]
archivist-1  |                      [input]
archivist-1  | playground.py: error: unrecognized arguments: --metrics
archivist-1  | [hello] role=watcher trace_id=tr-1755992337977-0kcom2
archivist-1  | usage: playground.py [-h] [--role ROLE] [--trace-id TRACE_ID] [--hello]
archivist-1  |                      [--healthz]
archivist-1  |                      [input]
archivist-1  | playground.py: error: unrecognized arguments: --metrics
archivist-1  | [hello] role=watcher trace_id=tr-1755992338485-xysxbt
archivist-1  | usage: playground.py [-h] [--role ROLE] [--trace-id TRACE_ID] [--hello]
archivist-1  |                      [--healthz]
archivist-1  |                      [input]
archivist-1  | playground.py: error: unrecognized arguments: --metrics
archivist-1  | usage: playground.py [-h] [--role ROLE] [--trace-id TRACE_ID] [--hello]
archivist-1  |                      [--healthz]
archivist-1  |                      [input]
archivist-1  | playground.py: error: unrecognized arguments: --metrics
archivist-1  | usage: playground.py [-h] [--role ROLE] [--trace-id TRACE_ID] [--hello]
archivist-1  |                      [--healthz]
archivist-1  |                      [input]
archivist-1  | playground.py: error: unrecognized arguments: --metrics
archivist-1  | [hello] role=watcher trace_id=tr-1755992341813-uw3u71
archivist-1  | usage: playground.py [-h] [--role ROLE] [--trace-id TRACE_ID] [--hello]
archivist-1  |                      [--healthz]
archivist-1  |                      [input]
archivist-1  | playground.py: error: unrecognized arguments: --metrics
archivist-1  | [hello] role=watcher trace_id=tr-1755992345190-9so73o
archivist-1  | usage: playground.py [-h] [--role ROLE] [--trace-id TRACE_ID] [--hello]
archivist-1  |                      [--healthz]
archivist-1  |                      [input]
archivist-1  | playground.py: error: unrecognized arguments: --metrics
archivist-1  | usage: playground.py [-h] [--role ROLE] [--trace-id TRACE_ID] [--hello]
archivist-1  |                      [--healthz]
archivist-1  |                      [input]
archivist-1  | playground.py: error: unrecognized arguments: --metrics
archivist-1  | [hello] role=watcher trace_id=tr-1755992351756-innheu
archivist-1  | usage: playground.py [-h] [--role ROLE] [--trace-id TRACE_ID] [--hello]
archivist-1  |                      [--healthz]
archivist-1  |                      [input]
archivist-1  | playground.py: error: unrecognized arguments: --metrics
curator-1    | usage: playground.py [-h] [--role ROLE] [--trace-id TRACE_ID] [--hello]
curator-1    |                      [--healthz]
curator-1    |                      [input]
curator-1    | playground.py: error: unrecognized arguments: --metrics
curator-1    | usage: playground.py [-h] [--role ROLE] [--trace-id TRACE_ID] [--hello]
curator-1    |                      [--healthz]
curator-1    |                      [input]
curator-1    | playground.py: error: unrecognized arguments: --metrics
curator-1    | [hello] role=watcher trace_id=tr-1755992338818-lmxmkv
curator-1    | usage: playground.py [-h] [--role ROLE] [--trace-id TRACE_ID] [--hello]
curator-1    |                      [--healthz]
curator-1    |                      [input]
curator-1    | playground.py: error: unrecognized arguments: --metrics
curator-1    | usage: playground.py [-h] [--role ROLE] [--trace-id TRACE_ID] [--hello]
curator-1    |                      [--healthz]
curator-1    |                      [input]
curator-1    | playground.py: error: unrecognized arguments: --metrics
curator-1    | [hello] role=watcher trace_id=tr-1755992340412-dnbr2x
curator-1    | usage: playground.py [-h] [--role ROLE] [--trace-id TRACE_ID] [--hello]
curator-1    |                      [--healthz]
curator-1    |                      [input]
curator-1    | playground.py: error: unrecognized arguments: --metrics
curator-1    | usage: playground.py [-h] [--role ROLE] [--trace-id TRACE_ID] [--hello]
curator-1    |                      [--healthz]
curator-1    |                      [input]
curator-1    | playground.py: error: unrecognized arguments: --metrics
curator-1    | usage: playground.py [-h] [--role ROLE] [--trace-id TRACE_ID] [--hello]
curator-1    |                      [--healthz]
curator-1    |                      [input]
curator-1    | playground.py: error: unrecognized arguments: --metrics
curator-1    | usage: playground.py [-h] [--role ROLE] [--trace-id TRACE_ID] [--hello]
curator-1    |                      [--healthz]
curator-1    |                      [input]
curator-1    | playground.py: error: unrecognized arguments: --metrics
curator-1    | [hello] role=watcher trace_id=tr-1755992352322-3xezoz
curator-1    | usage: playground.py [-h] [--role ROLE] [--trace-id TRACE_ID] [--hello]
curator-1    |                      [--healthz]
curator-1    |                      [input]
curator-1    | playground.py: error: unrecognized arguments: --metrics
planner-1    | [hello] role=watcher trace_id=tr-1755992337567-fcv1p9
planner-1    | usage: playground.py [-h] [--role ROLE] [--trace-id TRACE_ID] [--hello]
planner-1    |                      [--healthz]
planner-1    |                      [input]
planner-1    | playground.py: error: unrecognized arguments: --metrics
planner-1    | usage: playground.py [-h] [--role ROLE] [--trace-id TRACE_ID] [--hello]
planner-1    |                      [--healthz]
planner-1    |                      [input]
planner-1    | playground.py: error: unrecognized arguments: --metrics
planner-1    | [hello] role=watcher trace_id=tr-1755992338523-g5o82s
planner-1    | usage: playground.py [-h] [--role ROLE] [--trace-id TRACE_ID] [--hello]
planner-1    |                      [--healthz]
planner-1    |                      [input]
planner-1    | playground.py: error: unrecognized arguments: --metrics
planner-1    | [hello] role=watcher trace_id=tr-1755992339173-frf82j
planner-1    | usage: playground.py [-h] [--role ROLE] [--trace-id TRACE_ID] [--hello]
planner-1    |                      [--healthz]
planner-1    |                      [input]
planner-1    | playground.py: error: unrecognized arguments: --metrics
planner-1    | [hello] role=watcher trace_id=tr-1755992340221-vhv7tc
planner-1    | usage: playground.py [-h] [--role ROLE] [--trace-id TRACE_ID] [--hello]
planner-1    |                      [--healthz]
planner-1    |                      [input]
planner-1    | playground.py: error: unrecognized arguments: --metrics
planner-1    | usage: playground.py [-h] [--role ROLE] [--trace-id TRACE_ID] [--hello]
planner-1    |                      [--healthz]
planner-1    |                      [input]
planner-1    | playground.py: error: unrecognized arguments: --metrics
planner-1    | usage: playground.py [-h] [--role ROLE] [--trace-id TRACE_ID] [--hello]
planner-1    |                      [--healthz]
planner-1    |                      [input]
planner-1    | playground.py: error: unrecognized arguments: --metrics
planner-1    | usage: playground.py [-h] [--role ROLE] [--trace-id TRACE_ID] [--hello]
planner-1    |                      [--healthz]
planner-1    |                      [input]
planner-1    | playground.py: error: unrecognized arguments: --metrics
planner-1    | usage: playground.py [-h] [--role ROLE] [--trace-id TRACE_ID] [--hello]
planner-1    |                      [--healthz]
planner-1    |                      [input]
planner-1    | playground.py: error: unrecognized arguments: --metrics
redis-1      | 1:C 23 Aug 2025 23:38:57.481 * oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
redis-1      | 1:C 23 Aug 2025 23:38:57.481 * Redis version=7.4.5, bits=64, commit=00000000, modified=0, pid=1, just started
redis-1      | 1:C 23 Aug 2025 23:38:57.481 # Warning: no config file specified, using the default config. In order to specify a config file use redis-server /path/to/redis.conf
redis-1      | 1:M 23 Aug 2025 23:38:57.481 * monotonic clock: POSIX clock_gettime
redis-1      | 1:M 23 Aug 2025 23:38:57.482 * Running mode=standalone, port=6379.
redis-1        | 1:M 23 Aug 2025 23:38:57.482 * Server initialized
redis-1        | 1:M 23 Aug 2025 23:38:57.482 * Ready to accept connections tcp
synthesizer-1  | usage: playground.py [-h] [--role ROLE] [--trace-id TRACE_ID] [--hello]
synthesizer-1  |                      [--healthz]
synthesizer-1  |                      [input]
synthesizer-1  | playground.py: error: unrecognized arguments: --metrics
synthesizer-1  | [hello] role=watcher trace_id=tr-1755992338085-xd6ydl
synthesizer-1  | usage: playground.py [-h] [--role ROLE] [--trace-id TRACE_ID] [--hello]
synthesizer-1  |                      [--healthz]
synthesizer-1  |                      [input]
synthesizer-1  | playground.py: error: unrecognized arguments: --metrics
synthesizer-1  | usage: playground.py [-h] [--role ROLE] [--trace-id TRACE_ID] [--hello]
synthesizer-1  |                      [--healthz]
watcher-1      | [hello] role=watcher trace_id=tr-1755992337564-jhj6wa
synthesizer-1  |                      [input]
watcher-1      | usage: playground.py [-h] [--role ROLE] [--trace-id TRACE_ID] [--hello]
synthesizer-1  | playground.py: error: unrecognized arguments: --metrics
watcher-1      |                      [--healthz]
watcher-1      |                      [input]
watcher-1      | playground.py: error: unrecognized arguments: --metrics
watcher-1      | usage: playground.py [-h] [--role ROLE] [--trace-id TRACE_ID] [--hello]
watcher-1      |                      [--healthz]
watcher-1      |                      [input]
watcher-1      | playground.py: error: unrecognized arguments: --metrics
watcher-1      | [hello] role=watcher trace_id=tr-1755992338058-te37rp
watcher-1      | usage: playground.py [-h] [--role ROLE] [--trace-id TRACE_ID] [--hello]
watcher-1      |                      [--healthz]
watcher-1      |                      [input]
synthesizer-1  | [hello] role=watcher trace_id=tr-1755992339133-gjgo8g
watcher-1      | playground.py: error: unrecognized arguments: --metrics
synthesizer-1  | usage: playground.py [-h] [--role ROLE] [--trace-id TRACE_ID] [--hello]
synthesizer-1  |                      [--healthz]
synthesizer-1  |                      [input]
synthesizer-1  | playground.py: error: unrecognized arguments: --metrics
synthesizer-1  | usage: playground.py [-h] [--role ROLE] [--trace-id TRACE_ID] [--hello]
synthesizer-1  |                      [--healthz]
synthesizer-1  |                      [input]
synthesizer-1  | playground.py: error: unrecognized arguments: --metrics
synthesizer-1  | [hello] role=watcher trace_id=tr-1755992342009-d138jn
watcher-1      | [hello] role=watcher trace_id=tr-1755992339102-226r8z
synthesizer-1  | usage: playground.py [-h] [--role ROLE] [--trace-id TRACE_ID] [--hello]
watcher-1      | usage: playground.py [-h] [--role ROLE] [--trace-id TRACE_ID] [--hello]
watcher-1      |                      [--healthz]
watcher-1      |                      [input]
watcher-1      | playground.py: error: unrecognized arguments: --metrics
watcher-1      | [hello] role=watcher trace_id=tr-1755992340089-ju7ffr
watcher-1      | usage: playground.py [-h] [--role ROLE] [--trace-id TRACE_ID] [--hello]
watcher-1      |                      [--healthz]
watcher-1      |                      [input]
watcher-1      | playground.py: error: unrecognized arguments: --metrics
synthesizer-1  |                      [--healthz]
synthesizer-1  |                      [input]
synthesizer-1  | playground.py: error: unrecognized arguments: --metrics
synthesizer-1  | [hello] role=watcher trace_id=tr-1755992345462-49zn10
watcher-1      | usage: playground.py [-h] [--role ROLE] [--trace-id TRACE_ID] [--hello]
synthesizer-1  | usage: playground.py [-h] [--role ROLE] [--trace-id TRACE_ID] [--hello]
watcher-1      |                      [--healthz]
watcher-1      |                      [input]
watcher-1      | playground.py: error: unrecognized arguments: --metrics
watcher-1      | usage: playground.py [-h] [--role ROLE] [--trace-id TRACE_ID] [--hello]
watcher-1      |                      [--healthz]
watcher-1      |                      [input]
watcher-1      | playground.py: error: unrecognized arguments: --metrics
watcher-1      | [hello] role=watcher trace_id=tr-1755992351779-b3pjmw
watcher-1      | usage: playground.py [-h] [--role ROLE] [--trace-id TRACE_ID] [--hello]
watcher-1      |                      [--healthz]
watcher-1      |                      [input]
watcher-1      | playground.py: error: unrecognized arguments: --metrics
watcher-1      | usage: playground.py [-h] [--role ROLE] [--trace-id TRACE_ID] [--hello]
watcher-1      |                      [--healthz]
watcher-1      |                      [input]
watcher-1      | playground.py: error: unrecognized arguments: --metrics
synthesizer-1  |                      [--healthz]
synthesizer-1  |                      [input]
synthesizer-1  | playground.py: error: unrecognized arguments: --metrics
synthesizer-1  | [hello] role=watcher trace_id=tr-1755992352045-kkdxhw
synthesizer-1  | usage: playground.py [-h] [--role ROLE] [--trace-id TRACE_ID] [--hello]
synthesizer-1  |                      [--healthz]
synthesizer-1  |                      [input]
synthesizer-1  | playground.py: error: unrecognized arguments: --metrics
synthesizer-1  | usage: playground.py [-h] [--role ROLE] [--trace-id TRACE_ID] [--hello]
synthesizer-1  |                      [--healthz]
synthesizer-1  |                      [input]
synthesizer-1  | playground.py: error: unrecognized arguments: --metrics
